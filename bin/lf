#!/bin/sh

if [ -n "$TMPDIR" ]; then
  export LF_DATA_HOME="${TMPDIR}"
else
  export LF_DATA_HOME=/tmp
fi

if [ "$TERM" = "tmux-256color" ]; then
  export OLDTERM="$TERM"
  export TERM="tmux"
fi

real_lf="$(which -a lf | grep -v "$0" | head -n1)"
if [ -z "$real_lf" ]; then
    echo "real lf executable not found, check your PATH"
    exit 1
fi

if [ -f ~/.config/lf/hosts/"${HOST}" ]; then
    exec "$real_lf" -config ~/.config/lf/hosts/"${HOST}" "$@"
else
    exec "$real_lf" -config ~/.config/lf/lfrc "$@"
fi

