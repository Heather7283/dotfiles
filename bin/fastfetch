#!/bin/sh

# find real executable
real_exe_name="fastfetch"
OLDPATH="$PATH"
PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/opt/bin"
real_exe="$(which "$real_exe_name")"
if [ -z "$real_exe" ]; then
    echo "real ${real_exe_name} executable not found in ${PATH}"
    exit 1
fi
PATH="$OLDPATH"

if [ -f ~/.config/fastfetch/hosts/"${HOST}"/config.jsonc ]; then
    exec "$real_exe" -c ~/.config/fastfetch/hosts/"${HOST}"/config.jsonc "$@"
else
    exec "$real_exe" "$@"
fi

